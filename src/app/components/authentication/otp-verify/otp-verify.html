<div class="otp-verify-container">
  <div class="bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-screen overflow-hidden p-4">
    <div class="flex flex-col items-center justify-center w-full max-w-md">
      <div style="border-radius: 32px; padding: 0.2rem; background: linear-gradient(180deg, #000000 10%, rgba(0, 0, 0, 0) 30%)">
        <div class="w-full bg-surface-0 dark:bg-surface-900 py-12 px-8 sm:px-12" style="border-radius: 30px">
          
          <!-- Header Section -->
          <div class="text-center mb-8">
            <div class="text-surface-900 dark:text-surface-0 text-2xl font-bold mb-2">
              Verify yourself
            </div>
            <span class="text-muted-color text-sm">
              Please enter the OTP received in your email.
            </span>
          </div>

          <!-- Error Message -->
          <div *ngIf="errorMessage" class="mb-6">
            <p-message severity="error" [text]="errorMessage" styleClass="w-full"></p-message>
          </div>

          <!-- Success Message -->
          <div *ngIf="successMessage" class="mb-6">
            <p-message severity="success" [text]="successMessage" styleClass="w-full"></p-message>
          </div>

          <!-- OTP Input Form -->
          <form (ngSubmit)="verifyOtp()" class="space-y-8">
            
            <!-- OTP Input Fields -->
            <div class="otp-input-group">
              <div class="flex justify-center gap-4 mb-6">
                <div *ngFor="let digit of otp; let i = index" class="otp-input-wrapper">
                  <input
                    pInputText
                    [id]="'otp-' + i"
                    type="text"
                    maxlength="1"
                    [(ngModel)]="otp[i]"
                    [name]="'otp' + i"
                    (input)="onOtpInput($event, i)"
                    (keydown)="onKeyDown($event, i)"
                    (paste)="onPaste($event)"
                    [disabled]="isLoading"
                    class="otp-input"
                    autocomplete="one-time-code"
                  />
                </div>
              </div>
            </div>

            <!-- Verify Button -->
            <button 
              pButton 
              type="submit" 
              styleClass="w-full" 
              [disabled]="isLoading || otp.join('').length !== 4"
              class="verify-button black-theme"
            >
              <span *ngIf="isLoading" class="flex items-center justify-center">
                <p-progressSpinner 
                  styleClass="w-4 h-4 mr-2" 
                  strokeWidth="4"
                  animationDuration=".5s"
                ></p-progressSpinner>
                Verifying...
              </span>
              <span *ngIf="!isLoading">Verify OTP</span>
            </button>

            <!-- Resend OTP Link -->
            <div class="text-center">
              <button 
                type="button" 
                (click)="resendOtp()"
                [disabled]="isLoading"
                class="resend-link text-black dark:text-white font-medium no-underline hover:underline bg-transparent border-none cursor-pointer"
              >
                Reset Password
              </button>
            </div>

            <!-- Signup Link -->
            <div class="text-center mt-6 pt-6 border-t border-surface-200 dark:border-surface-700">
              <span class="text-muted-color text-sm">
                First time user? 
                <a routerLink="/sign-up" class="text-black font-medium no-underline hover:underline ml-1 dark:text-white">
                  Signup here
                </a>
              </span>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>