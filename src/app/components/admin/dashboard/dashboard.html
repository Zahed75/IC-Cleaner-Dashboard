<div class="dashboard-container">
  <!-- Header Section -->
  <div class="header">
    <h1>Welcome back, John!</h1>
    <p>Here's what's happening with your cleaning services today</p>
  </div>

  <!-- Metrics Cards -->
  <div class="metrics-grid">
    <p-card *ngFor="let metric of metrics" class="metric-card">
      <div class="metric-content">
        <div class="metric-icon" style="background-color: #0957A1;">
          <i class="pi {{metric.icon}}"></i>
        </div>
        <div class="metric-details">
          <h3>{{metric.title}}</h3>
          <div class="metric-value">{{metric.value}}</div>
          <div *ngIf="metric.subValue" class="metric-subvalue">{{metric.subValue}}</div>
          <button pButton pRipple type="button" [label]="metric.action" class="p-button-text p-button-sm view-button"></button>
        </div>
      </div>
    </p-card>
  </div>

  <!-- Recent Bookings Section -->
  <div class="section">
    <div class="section-header">
      <h2>Recent Bookings</h2>
    </div>
    <p-table [value]="recentBookings" [tableStyle]="{'min-width': '60rem'}" styleClass="p-datatable-gridlines" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th>BOOKING ID</th>
          <th>CLEANER</th>
          <th>SERVICE</th>
          <th>DATE & TIME</th>
          <th>AMOUNT</th>
          <th>STATUS</th>
          <th>ACTIONS</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-booking>
        <tr>
          <td>
            <a class="clickable-bold" (click)="onBookingClick(booking.bookingId)">{{booking.bookingId}}</a>
          </td>
          <td>
            <a class="clickable-bold" (click)="onCleanerClick(booking.cleaner)">{{booking.cleaner}}</a>
          </td>
          <td>{{booking.service}}</td>
          <td>{{booking.dateTime}}</td>
          <td class="amount-column">{{booking.amount}}</td>
          <td>
            <p-tag [value]="booking.status" [severity]="statusSeverity[booking.status]"></p-tag>
          </td>
          <td>
            <div class="action-buttons">
              <button pButton pRipple type="button" icon="pi pi-eye" class="p-button-text p-button-sm action-button view" 
                      pTooltip="View Details" tooltipPosition="top" (click)="onViewBooking(booking)"></button>
              <button pButton pRipple type="button" icon="pi pi-pencil" class="p-button-text p-button-sm action-button edit"
                      pTooltip="Edit Booking" tooltipPosition="top" (click)="onEditBooking(booking)"></button>
              <button pButton pRipple type="button" icon="pi pi-trash" class="p-button-text p-button-sm action-button delete"
                      pTooltip="Delete Booking" tooltipPosition="top" (click)="onDeleteBooking(booking)"></button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <!-- Payouts Section -->
  <div class="section">
    <div class="section-header">
      <h2>Recent Payouts</h2>
    </div>
    <p-table [value]="payouts" [tableStyle]="{'min-width': '60rem'}" styleClass="p-datatable-gridlines" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th>PAYOUT ID</th>
          <th>CLEANER</th>
          <th>PAYOUT METHOD</th>
          <th>AMOUNT</th>
          <th>STATUS</th>
          <th>ACTIONS</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-payout>
        <tr>
          <td>
            <a class="clickable-bold" (click)="onPayoutClick(payout.payoutId)">{{payout.payoutId}}</a>
          </td>
          <td>
            <a class="clickable-bold" (click)="onCleanerClick(payout.cleaner)">{{payout.cleaner}}</a>
          </td>
          <td>{{payout.method}}</td>
          <td class="amount-column">{{payout.amount}}</td>
          <td>
            <p-tag [value]="payout.status" [severity]="statusSeverity[payout.status] || 'info'"></p-tag>
          </td>
          <td>
            <div class="action-buttons">
              <button pButton pRipple type="button" icon="pi pi-eye" class="p-button-text p-button-sm action-button view" 
                      pTooltip="View Details" tooltipPosition="top" (click)="onViewPayout(payout)"></button>
              <button pButton pRipple type="button" icon="pi pi-pencil" class="p-button-text p-button-sm action-button edit"
                      pTooltip="Edit Payout" tooltipPosition="top" (click)="onEditPayout(payout)"></button>
              <button pButton pRipple type="button" icon="pi pi-trash" class="p-button-text p-button-sm action-button delete"
                      pTooltip="Delete Payout" tooltipPosition="top" (click)="onDeletePayout(payout)"></button>
            </div>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>